{% extends 'dashboard.html' %}


{%block content%}

<main class="col-md-9">
 
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Agregar un producto</h1>
      </div>

    <form method="POST" action="{% url 'confirmar_adicionpro' %}" enctype="multipart/form-data"> 
    {% csrf_token %}
    <div class="row g-3">
        <div class="col-6">
          <label for="firstName" class="form-label">Nombre producto</label>
          <input type="text" class="form-control" id="nombre" name="nombre" placeholder="" value="" required>
          <div class="invalid-feedback">
            Se requiere un nombre valido.
          </div>
        </div>

        <div class="col-6">
          <label for="firstName" class="form-label">Precio</label>
          <input type="text" class="form-control" id="precio" name="precio"  value="" required>
          <div class="invalid-feedback">
            Se requiere un precio.
          </div>
        </div>

        <div class="col-6">
          <label for="email" class="form-label">Descripción</label>
          <input type="text" class="form-control" id="desc" name="desc"  required>
          <div class="invalid-feedback">
            Se requiere una descripción.
          </div>
        </div>

        <div class="col-6">
            <div class="mb-3">
                <label for="fecha" class="form-label">Fecha de vencimiento</label>
                <input type="date" class="form-control" id="fecha" name="fecha">
            </div>
        </div>
        
        <div class="col-6">
                <label for="cantidad" class="form-label">Stock</label>
                <input type="number" class="form-control" id="stock" name="stock" placeholder="">

            <div class="invalid-feedback">
              Se requiere un stock.
            </div>
          </div>

          <div class="mb-3">
            <label for="empresa" class="form-label">Tipo de producto</label>
            <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="dropdownMenuButton">
                    Seleccione tipo de producto
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li><a class="dropdown-item" href="#" data-nombre="Quimico">Quimico</a></li>
                    <li><a class="dropdown-item" href="#" data-nombre="Vehiculo">Vehiculo</a></li>
                    <li><a class="dropdown-item" href="#" data-nombre="Herramienta">Herramienta</a></li>
                </ul>
            </div>
          </div>
            
        </div>
        <input type="hidden" name="empresa_seleccionada" id="empresa-seleccionada">
        <script>
            document.querySelectorAll('.dropdown-item').forEach(item => {
                item.addEventListener('click', function(event) {
                    event.preventDefault();
                    const nombre = this.getAttribute('data-nombre');
                    document.getElementById('empresa-seleccionada').value = nombre;
                    document.getElementById('dropdownMenuButton').textContent = nombre;
                });
            });
        </script>

          <div class="col-12 mb-3">
            <label for="formFile" class="form-label">Imagen</label>
            <input class="form-control" type="file" id="imagen" name="imagen">
            <div class="invalid-feedback">
              Se requiere una imgen.
            </div>
          </div>

          <div class="d-flex flex-wrap justify-content-center align-items-center" >
            <button class="btn btn-success mt-3 mb-3" id="btn-agregar" name="confimar_adicionpro">Agregar</button>
        </div>

      </form> 
</main>

{% endblock %}